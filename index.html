<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Timm's Rezepte der Woche</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#6b3fa0">

  <style>
    :root{--primary:#6b3fa0;--primary-dark:#4e2a7a;--card-bg:#fff;--text:#222;--muted:#666;--radius:12px;--shadow:0 4px 12px rgba(0,0,0,.08);--border:#e6e6e6;}
    *{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;background:radial-gradient(circle at top,#f3ecfb,#f6f6f6);color:var(--text);min-height:100vh;display:flex;justify-content:center;padding:16px;}
    .app{width:100%;max-width:980px;}
    header{text-align:center;margin-bottom:16px;}
    header h1{font-size:1.85rem;margin-bottom:6px;color:var(--primary-dark);}
    header p{color:var(--muted);font-size:.95rem;}

    .grid{display:grid;grid-template-columns:1fr;gap:12px;}
    .card{background:var(--card-bg);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px;}
    .topbar{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:10px;margin-bottom:10px;}
    .meta-row{display:flex;flex-wrap:wrap;gap:8px;font-size:.9rem;color:var(--muted);}
    .meta-pill{background:#efe6fb;border-radius:999px;padding:4px 10px;display:inline-flex;align-items:center;gap:6px;}
    .meta-pill span{font-weight:600;color:var(--primary-dark);}

    .controls{display:flex;flex-wrap:wrap;gap:8px;}
    button{border:none;border-radius:999px;padding:8px 14px;font-size:.95rem;cursor:pointer;display:inline-flex;align-items:center;gap:6px;}
    .btn-primary{background:var(--primary);color:#fff;}
    .btn-primary:hover{background:var(--primary-dark);}
    .btn-ghost{background:transparent;border:1px solid #ddd;color:var(--muted);}

    .recipe-card{border:1px solid var(--border);border-radius:14px;overflow:hidden;background:#fff;}
    .recipe-body{padding:14px;}
    .recipe-title{font-size:1.25rem;margin-bottom:6px;}
    .recipe-note{color:var(--muted);font-size:.92rem;margin-bottom:8px;}
    .section-title{font-size:1rem;margin:10px 0 6px;}
    ul{padding-left:18px;margin-bottom:6px;}
    li{margin-bottom:4px;}
    ol{padding-left:18px;}
    .steps{list-style:decimal;}
    .tag-row{display:flex;flex-wrap:wrap;gap:6px;margin:8px 0 0;}
    .tag{border:1px solid var(--border);border-radius:999px;padding:3px 9px;font-size:.82rem;color:var(--muted);background:#fafafa;}

    .archive{display:flex;flex-direction:column;gap:10px;}
    .archive-head{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;margin-bottom:6px;}
    .archive-list{display:flex;flex-direction:column;gap:6px;}
    .archive-item{width:100%;text-align:left;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:#fff;cursor:pointer;display:flex;justify-content:space-between;gap:10px;}
    .archive-item:hover{border-color:#d8cfee;}
    .archive-item strong{color:var(--primary-dark);}
    .archive-item span{color:var(--muted);}
    .muted{color:var(--muted);font-size:.9rem;}
    .divider{height:1px;background:var(--border);margin:12px 0;}
    .empty{padding:12px;border:1px dashed var(--border);border-radius:12px;color:var(--muted);background:#fff;}
    .error{padding:12px;border:1px solid #f1c5c5;border-radius:12px;color:#7a1f1f;background:#fff5f5;}

    @media (min-width: 900px){
      .grid{grid-template-columns: 2fr 1fr;align-items:start;}
      header h1{font-size:2.05rem;}
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>Timm's Rezepte der Woche</h1>
      <p>Fester Halbjahres-Plan (26 Wochen), je Woche 3 Rezepte ‚Äì ohne Wiederholungen.</p>
    </header>

    <div class="grid">
      <main class="card">
        <div class="topbar">
          <div class="meta-row">
            <div class="meta-pill"><span>KW</span><span id="weekNumber">‚Äì</span></div>
          </div>
          <div class="controls">
            <button class="btn-primary" id="jumpToThisWeekButton" title="Zur aktuellen Kalenderwoche springen">üìÖ Zu dieser Woche</button>
            <button class="btn-ghost" id="resetSeenButton" title="Lokale Anzeige/Archiv zur√ºcksetzen">‚ôªÔ∏è Anzeige zur√ºcksetzen</button>
          </div>
        </div>

        <div class="muted">
          Du siehst die Rezepte f√ºr die ausgew√§hlte Kalenderwoche aus einem festen 26‚ÄëWochen‚ÄëPlan.
        </div>

        <div class="divider"></div>

        <div id="currentRecipes"></div>
      </main>

      <aside class="card archive">
        <div class="archive-head">
          <h2 style="font-size:1.15rem;color:var(--primary-dark);">Wochen-Auswahl</h2>
          <div class="controls">
            <button class="btn-ghost" id="prevWeekButton" title="Vorherige Planwoche">‚Üê</button>
            <button class="btn-ghost" id="nextWeekButton" title="N√§chste Planwoche">‚Üí</button>
          </div>
        </div>

        <div class="muted">W√§hle eine Planwoche (1‚Äì26). Die App mappt sie automatisch auf die aktuelle Kalenderwoche.</div>

        <div class="divider"></div>

        <div id="planList" class="archive-list"></div>
        <div id="planEmpty" class="empty" style="display:none;">Plan nicht geladen.</div>
      </aside>
    </div>
  </div>

  <script>
    // ====== Plan: 26 Wochen, je 3 Rezept-IDs (keine Wiederholungen) ======
    // Diese IDs bef√ºllen wir im n√§chsten Schritt mit echten Rezeptdaten.
    const plan = [
  ["r01","r02","r03"],  // DE/ME: Ofen + Pasta + Salat
  ["r04","r05","r06"],  // Mediterran + Fisch
  ["r07","r08","r09"],  // DE: Eintopf + vegetarisch
  ["r10","r11","r12"],  // Asiatisch leicht
  ["r13","r14","r15"],
  ["r16","r17","r18"],
  ["r19","r20","r21"],
  ["r22","r23","r24"],
  ["r25","r26","r27"],
  ["r28","r29","r30"],
  ["r31","r32","r33"],
  ["r34","r35","r36"],
  ["r37","r38","r39"],
  ["r40","r41","r42"],
  ["r43","r44","r45"],
  ["r46","r47","r48"],
  ["r49","r50","r51"],
  ["r52","r53","r54"],
  ["r55","r56","r57"],
  ["r58","r59","r60"],
  ["r61","r62","r63"],
  ["r64","r65","r66"],
  ["r67","r68","r69"],
  ["r70","r71","r72"],
  ["r73","r74","r75"],
  ["r76","r77","r78"]
];


    const recipes = [
  {
    id: "r01",
    title: "Blech-Gem√ºse mit Feta & Kr√§utern (vegetarisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Ofen"],
    ingredients: [
      "1 gro√üe S√º√ükartoffel oder 4 Kartoffeln",
      "2 Paprika",
      "2 Zucchini",
      "1 rote Zwiebel",
      "1 Packung Feta",
      "Oliven√∂l",
      "Salz, Pfeffer",
      "Paprikapulver, Oregano/Thymian",
      "Optional: Zitronensaft"
    ],
    steps: [
      "Backofen auf 220 ¬∞C vorheizen.",
      "Gem√ºse in mundgerechte St√ºcke schneiden und auf ein Blech geben.",
      "Mit Oliven√∂l, Salz, Pfeffer und Kr√§utern mischen.",
      "Ca. 25 Minuten r√∂sten.",
      "Feta grob dar√ºberbr√∂seln und weitere 8‚Äì10 Minuten backen.",
      "Mit etwas Zitronensaft abschmecken und servieren."
    ]
  },
  {
    id: "r02",
    title: "Spaghetti Aglio e Olio mit Rucola (vegetarisch)",
    tags: ["Vegetarisch", "Mediterran", "Schnell"],
    ingredients: [
      "1 Packung Spaghetti",
      "3‚Äì4 Knoblauchzehen",
      "1‚Äì2 getrocknete Chilis oder Chiliflocken",
      "Oliven√∂l",
      "1 Handvoll Rucola",
      "Salz",
      "Optional: Parmesan"
    ],
    steps: [
      "Spaghetti in Salzwasser al dente kochen.",
      "Knoblauch in d√ºnne Scheiben schneiden.",
      "Oliven√∂l in einer Pfanne erw√§rmen, Knoblauch und Chili sanft anr√∂sten (nicht dunkel werden lassen).",
      "Etwas Nudelwasser zur Pfanne geben, dann die Spaghetti darin schwenken.",
      "Rucola unterheben, abschmecken und optional mit Parmesan servieren."
    ]
  },
  {
    id: "r03",
    title: "Gurkensalat mit Dill & Joghurt (vegetarisch)",
    tags: ["Vegetarisch", "Deutsch", "Beilage"],
    ingredients: [
      "2 Salatgurken",
      "1 Becher Naturjoghurt",
      "1‚Äì2 EL Essig",
      "Dill (frisch oder getrocknet)",
      "Salz, Pfeffer",
      "Optional: 1 TL Senf, 1 TL Honig"
    ],
    steps: [
      "Gurken in d√ºnne Scheiben hobeln.",
      "Joghurt mit Essig, Dill, Salz und Pfeffer verr√ºhren.",
      "Gurken untermischen und 10 Minuten ziehen lassen.",
      "Optional mit Senf/Honig abrunden und servieren."
    ]
  },

  {
    id: "r04",
    title: "Mediterranes Zitronen-Kr√§uter-H√§hnchen (optional) mit Ofenkartoffeln",
    tags: ["Optional Fleisch", "Mediterran", "Ofen"],
    ingredients: [
      "4 H√§hnchenschenkel oder H√§hnchenbrust (optional; vegetarisch: Halloumi statt H√§hnchen)",
      "6‚Äì8 Kartoffeln",
      "1 Zitrone",
      "Oliven√∂l",
      "Rosmarin/Thymian",
      "Salz, Pfeffer",
      "Optional: Knoblauch"
    ],
    steps: [
      "Backofen auf 220 ¬∞C vorheizen.",
      "Kartoffeln in Spalten schneiden, mit √ñl, Salz, Pfeffer und Kr√§utern mischen und auf ein Blech geben.",
      "H√§hnchen (oder Halloumi) mit Zitronensaft, etwas Zitronenabrieb, √ñl und Gew√ºrzen marinieren.",
      "Alles zusammen ca. 35‚Äì45 Minuten backen (je nach Fleischst√ºck).",
      "Vor dem Servieren mit frischer Zitrone abschmecken."
    ]
  },
  {
    id: "r05",
    title: "Tomaten-Oliven-Polenta (vegetarisch)",
    tags: ["Vegetarisch", "Mediterran", "Sattmacher"],
    ingredients: [
      "1 Tasse Polenta",
      "4 Tassen Wasser oder Gem√ºsebr√ºhe",
      "1 Glas/Becher passierte Tomaten",
      "1 Handvoll Oliven",
      "Salz, Pfeffer",
      "Oregano/Basilikum",
      "Optional: Parmesan oder Mozzarella"
    ],
    steps: [
      "Wasser/Br√ºhe aufkochen, Polenta einrieseln lassen und r√ºhren.",
      "Bei kleiner Hitze 5‚Äì10 Minuten quellen lassen (Packung beachten).",
      "Passierte Tomaten und Gew√ºrze unterr√ºhren, Oliven dazugeben.",
      "Optional K√§se unterheben und kurz schmelzen lassen.",
      "Mit Kr√§utern bestreuen und servieren."
    ]
  },
  {
    id: "r06",
    title: "Lachs aus der Pfanne mit Zitronen-Spinat (Fisch)",
    tags: ["Fisch", "Mitteleurop√§isch", "Schnell"],
    ingredients: [
      "4 Lachsfilets",
      "1 Zitrone",
      "1 gro√üe Sch√ºssel frischer Spinat",
      "1 Becher Sahne oder Kochsahne (optional; leichter: Frischk√§se + Wasser)",
      "Salz, Pfeffer",
      "Butter oder √ñl",
      "Optional: Knoblauch"
    ],
    steps: [
      "Lachs salzen, pfeffern und in einer Pfanne in √ñl/Butter braten (je Seite 3‚Äì4 Minuten).",
      "Lachs herausnehmen und warm halten.",
      "Spinat in die Pfanne geben und zusammenfallen lassen.",
      "Optional etwas Sahne/Frischk√§se einr√ºhren, mit Zitronensaft abschmecken.",
      "Lachs auf dem Zitronen-Spinat servieren."
    ]
  },

  {
    id: "r07",
    title: "Kartoffel-Lauch-Suppe (vegetarisch)",
    tags: ["Vegetarisch", "Deutsch", "Eintopf"],
    ingredients: [
      "6‚Äì8 Kartoffeln",
      "2 Stangen Lauch",
      "1 Zwiebel",
      "Gem√ºsebr√ºhe",
      "Salz, Pfeffer",
      "Optional: Sahne/Cr√®me fra√Æche"
    ],
    steps: [
      "Zwiebel und Lauch in etwas √ñl anschwitzen.",
      "Kartoffeln w√ºrfeln, dazugeben und kurz mitd√ºnsten.",
      "Mit Gem√ºsebr√ºhe aufgie√üen, 15‚Äì20 Minuten kochen.",
      "Nach Wunsch teilweise oder ganz p√ºrieren.",
      "Abschmecken und optional mit Sahne verfeinern."
    ]
  },
  {
    id: "r08",
    title: "K√§sesp√§tzle mit R√∂stzwiebeln (vegetarisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Herzhaft"],
    ingredients: [
      "1 Packung Sp√§tzle (frisch oder aus dem K√ºhlregal)",
      "2‚Äì3 Zwiebeln",
      "1‚Äì2 Handvoll geriebener K√§se (Emmentaler/Bergk√§se)",
      "Butter oder √ñl",
      "Salz, Pfeffer",
      "Optional: Schnittlauch"
    ],
    steps: [
      "Zwiebeln in Ringe schneiden und in Butter/√ñl langsam goldbraun r√∂sten.",
      "Sp√§tzle nach Packungsangabe erhitzen.",
      "Sp√§tzle mit K√§se in der Pfanne mischen, bis der K√§se schmilzt.",
      "Mit R√∂stzwiebeln toppen und servieren."
    ]
  },
  {
    id: "r09",
    title: "Karottensalat mit Apfel & Zitronen-Dressing (vegetarisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Beilage"],
    ingredients: [
      "6‚Äì8 Karotten",
      "2 √Ñpfel",
      "1 Zitrone",
      "√ñl",
      "Salz, Pfeffer",
      "Optional: Petersilie, ein paar N√ºsse"
    ],
    steps: [
      "Karotten grob raspeln, √Ñpfel in feine Stifte schneiden.",
      "Zitronensaft mit √ñl, Salz und Pfeffer verr√ºhren.",
      "Alles mischen und 10 Minuten ziehen lassen.",
      "Optional mit Petersilie/N√ºssen bestreuen."
    ]
  },

  {
    id: "r10",
    title: "Gem√ºse-Wok mit Erdnuss-So√üe (vegetarisch, optional H√§hnchen)",
    tags: ["Vegetarisch", "Asiatisch", "Optional Fleisch"],
    ingredients: [
      "1‚Äì2 Paprika",
      "1 Brokkoli",
      "2 Karotten",
      "1 Zwiebel",
      "Sojaso√üe",
      "Erdnussmus",
      "Limettensaft oder Reisessig",
      "Optional: 1 Packung Tofu oder H√§hnchenstreifen",
      "Beilage: Reis oder Nudeln"
    ],
    steps: [
      "Reis/Nudeln kochen.",
      "Gem√ºse in Streifen schneiden und im Wok/Pfanne hei√ü anbraten.",
      "Optional Tofu/H√§hnchen separat anbraten und dazugeben.",
      "So√üe r√ºhren: Sojaso√üe + Erdnussmus + etwas Wasser + Limette/Essig.",
      "So√üe zum Wok geben, kurz einkochen lassen und servieren."
    ]
  },
  {
    id: "r11",
    title: "Miso-Suppe mit Pilzen & Fr√ºhlingszwiebeln (vegetarisch)",
    tags: ["Vegetarisch", "Asiatisch", "Leicht"],
    ingredients: [
      "Miso-Paste",
      "1‚Äì2 Liter Wasser",
      "Pilze (z.B. Champignons)",
      "Fr√ºhlingszwiebeln",
      "Tofu (optional)",
      "Optional: Wakame/Algen, Sojaso√üe"
    ],
    steps: [
      "Wasser erhitzen, Pilze darin 5‚Äì7 Minuten k√∂cheln.",
      "Hitze reduzieren, Miso-Paste in einer Tasse mit etwas Br√ºhe glatt r√ºhren.",
      "Miso einr√ºhren (nicht sprudelnd kochen lassen).",
      "Tofu w√ºrfeln, Fr√ºhlingszwiebeln schneiden und kurz ziehen lassen.",
      "Abschmecken und servieren."
    ]
  },
  {
    id: "r12",
    title: "Sesam-Gurkensalat (vegetarisch, asiatisch)",
    tags: ["Vegetarisch", "Asiatisch", "Beilage"],
    ingredients: [
      "2 Gurken",
      "Sojaso√üe",
      "Reisessig oder Limettensaft",
      "Sesam√∂l (sparsam)",
      "Sesam",
      "Optional: Chili, Knoblauch"
    ],
    steps: [
      "Gurken in Scheiben schneiden, leicht salzen und 5 Minuten ziehen lassen.",
      "Dressing aus Sojaso√üe, Essig/Limette, etwas Sesam√∂l r√ºhren.",
      "Gurken abgie√üen, mit Dressing mischen.",
      "Mit Sesam (und optional Chili) bestreuen."
    ]
  },

  {
    id: "r13",
    title: "Ratatouille aus dem Ofen (vegetarisch, mediterran)",
    tags: ["Vegetarisch", "Mediterran", "Ofen"],
    ingredients: [
      "2 Zucchini",
      "1 Aubergine",
      "2 Paprika",
      "1 Zwiebel",
      "1 Dose gehackte Tomaten",
      "Oliven√∂l",
      "Salz, Pfeffer",
      "Thymian/Oregano"
    ],
    steps: [
      "Backofen auf 200 ¬∞C vorheizen.",
      "Gem√ºse w√ºrfeln, in eine Auflaufform geben.",
      "Tomaten, √ñl und Gew√ºrze dazugeben und mischen.",
      "Ca. 35‚Äì45 Minuten backen, zwischendurch umr√ºhren.",
      "Mit Brot, Reis oder Kartoffeln servieren."
    ]
  },
  {
    id: "r14",
    title: "Couscous mit Kr√§utern, Zitrone & Gem√ºse (vegetarisch)",
    tags: ["Vegetarisch", "Mediterran", "Schnell"],
    ingredients: [
      "Couscous",
      "Gem√ºsebr√ºhe oder hei√ües Wasser",
      "1 Zitrone",
      "Gurke, Tomaten, Paprika (nach Wahl)",
      "Petersilie/Minze",
      "Oliven√∂l",
      "Salz, Pfeffer"
    ],
    steps: [
      "Couscous mit hei√üer Br√ºhe √ºbergie√üen und 5‚Äì10 Minuten quellen lassen.",
      "Gem√ºse klein schneiden, Kr√§uter hacken.",
      "Couscous auflockern, mit Gem√ºse, Kr√§utern, Zitronensaft und Oliven√∂l mischen.",
      "Abschmecken und servieren."
    ]
  },
  {
    id: "r15",
    title: "Frittata mit Kartoffeln & Zwiebeln (vegetarisch)",
    tags: ["Vegetarisch", "Mediterran", "Pfanne/Ofen"],
    ingredients: [
      "6‚Äì8 Eier",
      "4 Kartoffeln",
      "2 Zwiebeln",
      "Salz, Pfeffer",
      "√ñl",
      "Optional: K√§se, Spinat"
    ],
    steps: [
      "Kartoffeln in d√ºnne Scheiben schneiden und in √ñl fast gar braten.",
      "Zwiebeln dazugeben und weich braten.",
      "Eier verquirlen, w√ºrzen und √ºber die Pfanne gie√üen.",
      "Bei kleiner Hitze stocken lassen; optional kurz im Ofen/grill fertigstellen.",
      "In St√ºcke schneiden und servieren."
    ]
  },

  {
    id: "r16",
    title: "Gem√ºse-Lasagne (vegetarisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Ofen"],
    ingredients: [
      "Lasagneplatten",
      "1 Zucchini",
      "1 Paprika",
      "1 Zwiebel",
      "1 Glas passierte Tomaten",
      "1 Becher Cr√®me fra√Æche oder B√©chamel (Fertig oder selbst)",
      "K√§se zum √úberbacken",
      "Salz, Pfeffer, italienische Kr√§uter"
    ],
    steps: [
      "Backofen auf 200 ¬∞C vorheizen.",
      "Gem√ºse w√ºrfeln und in einer Pfanne anbraten, mit Tomaten abl√∂schen und w√ºrzen.",
      "In einer Form abwechselnd Sauce, Lasagneplatten, Cr√®me fra√Æche/B√©chamel schichten.",
      "Mit K√§se abschlie√üen.",
      "Ca. 30‚Äì40 Minuten backen und 5 Minuten ruhen lassen."
    ]
  },
  {
    id: "r17",
    title: "Feldsalat mit Waln√ºssen & Apfel (vegetarisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Salat"],
    ingredients: [
      "Feldsalat",
      "2 √Ñpfel",
      "1 Handvoll Waln√ºsse",
      "Essig",
      "√ñl",
      "Salz, Pfeffer",
      "Optional: Senf, Honig"
    ],
    steps: [
      "Feldsalat waschen und trocknen.",
      "Apfel w√ºrfeln, Waln√ºsse grob hacken.",
      "Dressing aus Essig, √ñl, Salz, Pfeffer (optional Senf/Honig) r√ºhren.",
      "Alles mischen und servieren."
    ]
  },
  {
    id: "r18",
    title: "Bratkartoffeln mit Kr√§uterquark (vegetarisch)",
    tags: ["Vegetarisch", "Deutsch", "Schnell"],
    ingredients: [
      "8‚Äì10 Kartoffeln (vorgekocht geht am besten)",
      "√ñl oder Butter",
      "Salz, Pfeffer",
      "Optional: Zwiebel",
      "F√ºr den Quark: 1 Becher Quark, Kr√§uter, Salz, Pfeffer, Spritzer Zitronensaft"
    ],
    steps: [
      "Kartoffeln in Scheiben schneiden.",
      "In einer gro√üen Pfanne knusprig braten, salzen und pfeffern (optional mit Zwiebeln).",
      "Quark mit Kr√§utern und Gew√ºrzen verr√ºhren.",
      "Bratkartoffeln mit Kr√§uterquark servieren."
    ]
  },

  {
    id: "r19",
    title: "Pasta al Limone (vegetarisch, cremig-zitronig)",
    tags: ["Vegetarisch", "Mediterran", "Schnell"],
    ingredients: [
      "1 Packung Pasta",
      "1‚Äì2 Zitronen",
      "1 Becher Sahne oder Frischk√§se",
      "Butter oder Oliven√∂l",
      "Salz, Pfeffer",
      "Optional: Parmesan, Petersilie"
    ],
    steps: [
      "Pasta kochen, etwas Nudelwasser aufheben.",
      "Zitronenschale abreiben, Saft auspressen.",
      "Sahne/Frischk√§se mit etwas Nudelwasser cremig r√ºhren, Zitronensaft/-abrieb dazugeben.",
      "Mit Pasta mischen, abschmecken und optional Parmesan/Petersilie dar√ºber."
    ]
  },
  {
    id: "r20",
    title: "Griechische Gem√ºsepfanne mit Halloumi (vegetarisch)",
    tags: ["Vegetarisch", "Mediterran", "Pfanne"],
    ingredients: [
      "1 Packung Halloumi",
      "2 Paprika",
      "1 Zucchini",
      "1 rote Zwiebel",
      "Oliven√∂l",
      "Salz, Pfeffer",
      "Oregano",
      "Optional: Oliven"
    ],
    steps: [
      "Gem√ºse in St√ºcke schneiden und in Oliven√∂l anbraten.",
      "W√ºrzen und 8‚Äì10 Minuten garen.",
      "Halloumi in Scheiben schneiden und separat goldbraun braten.",
      "Alles zusammen kurz schwenken, optional Oliven dazu und servieren."
    ]
  },
  {
    id: "r21",
    title: "Tomaten-Bohnensalat (vegetarisch, mediterran)",
    tags: ["Vegetarisch", "Mediterran", "Beilage"],
    ingredients: [
      "1 Dose wei√üe Bohnen oder Kidneybohnen",
      "Tomaten",
      "1 rote Zwiebel",
      "Oliven√∂l",
      "Essig oder Zitronensaft",
      "Salz, Pfeffer",
      "Petersilie"
    ],
    steps: [
      "Bohnen absp√ºlen, Tomaten w√ºrfeln, Zwiebel fein schneiden.",
      "Mit √ñl, Essig/Zitrone, Salz und Pfeffer mischen.",
      "Petersilie unterheben und kurz ziehen lassen."
    ]
  },

  {
    id: "r22",
    title: "Forelle (oder Lachs) aus dem Ofen mit Kr√§utern (Fisch)",
    tags: ["Fisch", "Mitteleurop√§isch", "Ofen"],
    ingredients: [
      "2‚Äì4 Forellen (oder 4 Fischfilets)",
      "1 Zitrone",
      'Kr√§uter (Petersilie/Dill), optional: Knoblauch',
      "Salz, Pfeffer",
      "Butter oder Oliven√∂l",
      "Beilage: Kartoffeln oder Brot"
    ],
    steps: [
      "Backofen auf 200 ¬∞C vorheizen.",
      "Fisch salzen, pfeffern, mit Zitrone und Kr√§utern f√ºllen/belegen.",
      "Mit etwas Butter/√ñl betr√§ufeln.",
      "Je nach Dicke 15‚Äì25 Minuten backen.",
      "Mit Zitronensaft servieren."
    ]
  },
  {
    id: "r23",
    title: "Kartoffelsalat s√ºddeutsch (vegetarisch)",
    tags: ["Vegetarisch", "Deutsch", "Beilage"],
    ingredients: [
      "8‚Äì10 Kartoffeln",
      "1 Zwiebel",
      "Gem√ºsebr√ºhe",
      "Essig",
      "√ñl",
      "Salz, Pfeffer",
      "Optional: Senf, Schnittlauch"
    ],
    steps: [
      "Kartoffeln kochen, pellen, in Scheiben schneiden.",
      "Zwiebel fein w√ºrfeln.",
      "Br√ºhe mit Essig, √ñl, Salz, Pfeffer (optional Senf) verr√ºhren.",
      "√úber die warmen Kartoffeln geben, mischen und 20 Minuten ziehen lassen.",
      "Optional Schnittlauch dar√ºber."
    ]
  },
  {
    id: "r24",
    title: "Rahmspinat mit Spiegelei & Kartoffeln (vegetarisch)",
    tags: ["Vegetarisch", "Deutsch", "Klassiker"],
    ingredients: [
      "Kartoffeln",
      "Spinat (TK oder frisch)",
      "1 Zwiebel (optional)",
      "Milch/Sahne oder Frischk√§se",
      "4 Eier",
      "Salz, Pfeffer, Muskat"
    ],
    steps: [
      "Kartoffeln kochen.",
      "Spinat in einem Topf erw√§rmen, optional mit Zwiebel and√ºnsten.",
      "Mit Milch/Sahne/Frischk√§se cremig r√ºhren, w√ºrzen (Muskat).",
      "Eier als Spiegeleier braten.",
      "Mit Kartoffeln und Spinat servieren."
    ]
  },

  {
    id: "r25",
    title: "K√ºrbis-Kokos-Suppe (vegetarisch, leicht asiatisch)",
    tags: ["Vegetarisch", "Asiatisch inspiriert", "Suppe"],
    ingredients: [
      "1 Hokkaido-K√ºrbis",
      "1 Zwiebel",
      "1 Dose Kokosmilch",
      "Gem√ºsebr√ºhe",
      "Currypulver oder Currypaste",
      "Salz, Pfeffer",
      "Optional: Ingwer, Limettensaft"
    ],
    steps: [
      "Zwiebel (und optional Ingwer) anschwitzen.",
      "K√ºrbis w√ºrfeln, kurz mitd√ºnsten.",
      "Mit Br√ºhe aufgie√üen und weich kochen (ca. 15 Minuten).",
      "Kokosmilch und Curry zugeben, p√ºrieren.",
      "Abschmecken (optional Limette) und servieren."
    ]
  },
  {
    id: "r26",
    title: "Gebratener Reis mit Gem√ºse & Ei (vegetarisch, asiatisch)",
    tags: ["Vegetarisch", "Asiatisch", "Resteverwertung"],
    ingredients: [
      "Gekochter Reis (vom Vortag ideal)",
      "Gem√ºse nach Wahl (Erbsen, Karotten, Paprika, Lauchzwiebeln)",
      "4 Eier",
      "Sojaso√üe",
      "√ñl",
      "Optional: Sesam, Chili"
    ],
    steps: [
      "Gem√ºse klein schneiden und in einer gro√üen Pfanne/Wok anbraten.",
      "Eier in der Pfanne stocken lassen und r√ºhren.",
      "Reis dazugeben und kr√§ftig anbraten, bis er hei√ü ist.",
      "Mit Sojaso√üe abschmecken, optional Sesam/Chili dar√ºber."
    ]
  }
];
// recipes.push(...moreRecipes_27_52);
  // --- Block 2/3: r27‚Äìr52 ---
const moreRecipes_27_52 = [
  {
    id: "r27",
    title: "Brokkoli-Nudelauflauf (vegetarisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Ofen"],
    ingredients: [
      "1 Packung Nudeln (kurz, z.B. Penne)",
      "1 Brokkoli",
      "1 Becher Sahne oder Kochsahne",
      "1 Handvoll geriebener K√§se",
      "Salz, Pfeffer, Muskat",
      "Optional: Knoblauch"
    ],
    steps: [
      "Backofen auf 200 ¬∞C vorheizen.",
      "Nudeln fast gar kochen, Brokkoli in R√∂schen 2‚Äì3 Minuten mitkochen.",
      "Alles in eine Auflaufform geben.",
      "Sahne w√ºrzen (Salz, Pfeffer, Muskat) und dar√ºber gie√üen.",
      "Mit K√§se bestreuen und 15‚Äì20 Minuten √ºberbacken."
    ]
  },
  {
    id: "r28",
    title: "Mediterrane Linsensalat-Bowl (vegetarisch)",
    tags: ["Vegetarisch", "Mediterran", "Bowl"],
    ingredients: [
      "1 Packung/Beutel Linsen (vorgekocht) oder getrocknete Linsen",
      "Gurke, Tomaten, Paprika",
      "1 rote Zwiebel",
      "Oliven√∂l",
      "Zitronensaft oder Essig",
      "Salz, Pfeffer",
      "Optional: Feta, Petersilie"
    ],
    steps: [
      "Linsen garen oder vorgekochte Linsen absp√ºlen.",
      "Gem√ºse klein schneiden, Zwiebel fein w√ºrfeln.",
      "Dressing aus Oliven√∂l, Zitrone/Essig, Salz und Pfeffer r√ºhren.",
      "Alles mischen, optional Feta/Petersilie dazugeben und servieren."
    ]
  },
  {
    id: "r29",
    title: "Tomatensuppe mit Basilikum (vegetarisch)",
    tags: ["Vegetarisch", "Mediterran", "Suppe"],
    ingredients: [
      "1 Zwiebel",
      "1 Knoblauchzehe (optional)",
      "1‚Äì2 Packungen passierte Tomaten",
      "Gem√ºsebr√ºhe",
      "Salz, Pfeffer, Basilikum",
      "Optional: Sahne/Cr√®me fra√Æche"
    ],
    steps: [
      "Zwiebel (und optional Knoblauch) anschwitzen.",
      "Passierte Tomaten zugeben, mit etwas Br√ºhe verd√ºnnen.",
      "10‚Äì15 Minuten k√∂cheln lassen, w√ºrzen.",
      "Optional cremig r√ºhren und mit Basilikum servieren."
    ]
  },

  {
    id: "r30",
    title: "Pfannkuchen herzhaft mit Pilzrahm (vegetarisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Klassiker"],
    ingredients: [
      "Pfannkuchenteig: Mehl, Milch, Eier, Salz",
      "Pilze (z.B. Champignons)",
      "1 Zwiebel",
      "Sahne oder Frischk√§se",
      "Salz, Pfeffer",
      "Optional: Petersilie"
    ],
    steps: [
      "Pfannkuchenteig r√ºhren und d√ºnne Pfannkuchen ausbacken.",
      "Pilze und Zwiebel anbraten, salzen und pfeffern.",
      "Sahne/Frischk√§se zugeben und kurz einkochen lassen.",
      "Pfannkuchen f√ºllen oder dazu servieren, optional Petersilie dar√ºber."
    ]
  },
  {
    id: "r31",
    title: "Ofen-Falafel mit Joghurt-Dip (vegetarisch, orientalisch)",
    tags: ["Vegetarisch", "Mediterran", "Ofen"],
    ingredients: [
      "Falafel-Mix oder selbstgemachte Falafel",
      "Joghurt",
      "Zitrone",
      "Salz, Pfeffer",
      "Gurke/Tomate als Beilage",
      "Optional: Knoblauch, Kreuzk√ºmmel"
    ],
    steps: [
      "Falafel nach Packung (oder Rezept) formen.",
      "Im Ofen bei 200 ¬∞C ca. 15‚Äì20 Minuten backen, einmal wenden.",
      "Dip: Joghurt mit Zitronensaft, Salz/Pfeffer (optional Knoblauch) verr√ºhren.",
      "Mit frischem Gem√ºse und Dip servieren."
    ]
  },
  {
    id: "r32",
    title: "Krautnudeln (vegetarisch, s√ºddeutsch/√∂sterreichisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Herzhaft"],
    ingredients: [
      "1 kleiner Wei√ükohl oder Spitzkohl",
      "1 Packung Nudeln (z.B. Bandnudeln)",
      "2 Zwiebeln",
      "√ñl oder Butter",
      "Salz, Pfeffer",
      "Optional: K√ºmmel"
    ],
    steps: [
      "Kohl in feine Streifen schneiden, Zwiebeln w√ºrfeln.",
      "Zwiebeln anbraten, Kohl zugeben und weich schmoren (10‚Äì15 Minuten), w√ºrzen.",
      "Nudeln kochen.",
      "Nudeln mit dem Kohl mischen und abschmecken."
    ]
  },

  {
    id: "r33",
    title: "Gebratene Gnocchi mit Tomaten & Mozzarella (vegetarisch)",
    tags: ["Vegetarisch", "Mediterran", "Schnell"],
    ingredients: [
      "2 Packungen Gnocchi (K√ºhlregal)",
      "Cherrytomaten",
      "1‚Äì2 Knoblauchzehen (optional)",
      "Mozzarella",
      "Oliven√∂l",
      "Salz, Pfeffer",
      "Basilikum"
    ],
    steps: [
      "Gnocchi in Oliven√∂l goldbraun anbraten.",
      "Tomaten (und optional Knoblauch) zugeben und kurz schmoren.",
      "Mozzarella zupfen, unterheben und anschmelzen lassen.",
      "Mit Basilikum, Salz und Pfeffer servieren."
    ]
  },
  {
    id: "r34",
    title: "R√ºhrei mit Schnittlauch & Bratbrot (vegetarisch)",
    tags: ["Vegetarisch", "Deutsch", "Schnell"],
    ingredients: [
      "8 Eier",
      "Milch (Schuss, optional)",
      "Salz, Pfeffer",
      "Schnittlauch",
      "Brot",
      "Butter"
    ],
    steps: [
      "Eier mit Salz, Pfeffer und optional Milch verquirlen.",
      "In Butter cremig r√ºhren, nicht zu trocken werden lassen.",
      "Brot in der Pfanne oder im Toaster r√∂sten.",
      "Mit Schnittlauch servieren."
    ]
  },
  {
    id: "r35",
    title: "Bunter Bauernsalat mit Feta (vegetarisch)",
    tags: ["Vegetarisch", "Mediterran", "Salat"],
    ingredients: [
      "Tomaten",
      "Gurke",
      "Paprika",
      "rote Zwiebel",
      "Feta",
      "Oliven (optional)",
      "Oliven√∂l",
      "Essig oder Zitronensaft",
      "Salz, Pfeffer, Oregano"
    ],
    steps: [
      "Gem√ºse w√ºrfeln, Zwiebel fein schneiden.",
      "Dressing aus √ñl, Essig/Zitrone, Salz, Pfeffer und Oregano r√ºhren.",
      "Alles mischen, Feta dar√ºber und servieren."
    ]
  },

  {
    id: "r36",
    title: "Asiatische Kokos-Nudel-Suppe (vegetarisch, optional Garnelen)",
    tags: ["Vegetarisch", "Asiatisch", "Optional Fisch/Meeresfr√ºchte"],
    ingredients: [
      "Reisnudeln",
      "1 Dose Kokosmilch",
      "Gem√ºsebr√ºhe",
      "Gem√ºse nach Wahl (z.B. Pak Choi, Karotte, Pilze)",
      "Sojaso√üe",
      "Limettensaft",
      "Optional: Garnelen"
    ],
    steps: [
      "Gem√ºse schneiden, in einem Topf kurz anbraten oder direkt in Br√ºhe garen.",
      "Kokosmilch und Br√ºhe zugeben, 8‚Äì10 Minuten k√∂cheln.",
      "Reisnudeln nach Packung garen (entweder separat oder in der Suppe).",
      "Mit Sojaso√üe und Limette abschmecken, optional Garnelen kurz gar ziehen lassen."
    ]
  },
  {
    id: "r37",
    title: "Blumenkohl-K√§se-Pfanne (vegetarisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Schnell"],
    ingredients: [
      "1 Blumenkohl",
      "1 Becher Sahne oder Milch",
      "K√§se (gerieben)",
      "Salz, Pfeffer, Muskat",
      "Optional: Paprikapulver"
    ],
    steps: [
      "Blumenkohl in R√∂schen teilen und 6‚Äì8 Minuten vorkochen oder d√§mpfen.",
      "In einer Pfanne/Topf Sahne/Milch erhitzen und w√ºrzen.",
      "Blumenkohl zugeben, K√§se einr√ºhren und kurz schmelzen lassen.",
      "Abschmecken und servieren."
    ]
  },
  {
    id: "r38",
    title: "Pesto-Kartoffeln vom Blech (vegetarisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Ofen"],
    ingredients: [
      "Kartoffeln",
      "gr√ºnes oder rotes Pesto",
      "Oliven√∂l (optional)",
      "Salz, Pfeffer",
      "Optional: Cherry-Tomaten"
    ],
    steps: [
      "Backofen auf 220 ¬∞C vorheizen.",
      "Kartoffeln halbieren/vierteln und auf ein Blech geben.",
      "Mit Pesto (und optional etwas √ñl) mischen, w√ºrzen.",
      "25‚Äì35 Minuten backen, optional Tomaten 10 Minuten vor Ende dazugeben."
    ]
  },
  {
    id: "r39",
    title: "Quarkauflauf mit Beeren (vegetarisch, s√º√ües Abendessen)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Ofen"],
    ingredients: [
      "Quark",
      "Eier",
      "Zucker oder Honig",
      "Vanille (optional)",
      "Beeren (TK geht)",
      "Optional: Grie√ü oder St√§rke"
    ],
    steps: [
      "Backofen auf 180‚Äì190 ¬∞C vorheizen.",
      "Quark mit Eiern, S√º√üe und optional Grie√ü/St√§rke verr√ºhren.",
      "Beeren unterheben, in eine Form geben.",
      "Ca. 30‚Äì40 Minuten backen und kurz abk√ºhlen lassen."
    ]
  },

  {
    id: "r40",
    title: "Fischst√§bchen (oder Ofenfisch) mit Kartoffelp√ºree (Fisch)",
    tags: ["Fisch", "Deutsch", "Familienk√ºche"],
    ingredients: [
      "Fischst√§bchen oder Fischfilets (Ofen)",
      "Kartoffeln",
      "Milch",
      "Butter",
      "Salz, Pfeffer, Muskat",
      "Optional: Erbsen oder Gurkensalat"
    ],
    steps: [
      "Fisch nach Packung im Ofen oder in der Pfanne zubereiten.",
      "Kartoffeln kochen, abgie√üen und stampfen.",
      "Mit Milch/Butter cremig r√ºhren, w√ºrzen.",
      "Mit Erbsen oder Salat servieren."
    ]
  },
  {
    id: "r41",
    title: "Pasta mit Pilzen in Rahm (vegetarisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Schnell"],
    ingredients: [
      "Pasta",
      "Pilze",
      "1 Zwiebel",
      "Sahne oder Frischk√§se",
      "Salz, Pfeffer",
      "Optional: Petersilie, Knoblauch"
    ],
    steps: [
      "Pasta kochen.",
      "Zwiebel und Pilze anbraten, w√ºrzen.",
      "Sahne/Frischk√§se zugeben, kurz einkochen.",
      "Mit Pasta mischen, optional Petersilie dar√ºber."
    ]
  },
  {
    id: "r42",
    title: "Rote-Bete-Salat mit Ziegenk√§se (vegetarisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Salat"],
    ingredients: [
      "vorgegarte Rote Bete",
      "Ziegenk√§se (oder Feta)",
      "Rucola oder Feldsalat",
      "Waln√ºsse (optional)",
      "Balsamico",
      "Oliven√∂l",
      "Salz, Pfeffer"
    ],
    steps: [
      "Rote Bete in W√ºrfel schneiden.",
      "Salat waschen, K√§se zerbr√∂seln.",
      "Dressing aus Balsamico, √ñl, Salz und Pfeffer r√ºhren.",
      "Alles anrichten und optional mit Waln√ºssen toppen."
    ]
  },

  {
    id: "r43",
    title: "Shakshuka mit wei√üen Bohnen (vegetarisch, s√§ttigend)",
    tags: ["Vegetarisch", "Mediterran", "Pfanne"],
    ingredients: [
      "1 Zwiebel",
      "1‚Äì2 Paprika",
      "1 Dose Tomaten",
      "1 Dose wei√üe Bohnen",
      "4‚Äì6 Eier",
      "Salz, Pfeffer, Kreuzk√ºmmel, Paprika",
      "Oliven√∂l"
    ],
    steps: [
      "Zwiebel und Paprika in √ñl anbraten.",
      "Tomaten und Gew√ºrze zugeben, 10 Minuten k√∂cheln.",
      "Bohnen unterr√ºhren.",
      "Eier in Mulden schlagen, Deckel drauf und stocken lassen.",
      "Servieren (Brot passt gut)."
    ]
  },
  {
    id: "r44",
    title: "Vegetarische Moussaka (vereinfachte Version)",
    tags: ["Vegetarisch", "Mediterran", "Ofen"],
    ingredients: [
      "2 Auberginen",
      "Kartoffeln (optional)",
      "1 Dose Tomaten",
      "1 Zwiebel",
      "B√©chamel (fertig oder selbst)",
      "K√§se zum √úberbacken",
      "Salz, Pfeffer, Oregano"
    ],
    steps: [
      "Backofen auf 200 ¬∞C vorheizen.",
      "Auberginen in Scheiben schneiden, salzen, abtupfen und kurz anbraten oder im Ofen vorgaren.",
      "Tomatensauce aus Zwiebel + Tomaten + Gew√ºrzen kochen.",
      "Schichten: Aubergine (und optional Kartoffeln), Tomatensauce, B√©chamel.",
      "Mit K√§se toppen und 30‚Äì40 Minuten backen."
    ]
  },
  {
    id: "r45",
    title: "Schneller Mediterraner Reis mit Gem√ºse (vegetarisch)",
    tags: ["Vegetarisch", "Mediterran", "Schnell"],
    ingredients: [
      "Reis",
      "Zucchini oder Paprika",
      "1 Zwiebel",
      "Tomaten (frisch oder Dose)",
      "Oliven√∂l",
      "Salz, Pfeffer, Kr√§uter"
    ],
    steps: [
      "Reis kochen.",
      "Gem√ºse und Zwiebel anbraten, w√ºrzen.",
      "Tomaten zugeben und kurz einkochen.",
      "Reis unterheben, abschmecken und servieren."
    ]
  },

  {
    id: "r46",
    title: "Gem√ºsefrikadellen (vegetarisch) mit Dip",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Pfanne"],
    ingredients: [
      "1‚Äì2 Karotten",
      "1 Zucchini",
      "1 Zwiebel",
      "Haferflocken oder Semmelbr√∂sel",
      "2 Eier",
      "Salz, Pfeffer",
      "Optional: K√§se gerieben",
      "Dip: Joghurt + Kr√§uter"
    ],
    steps: [
      "Gem√ºse grob raspeln, leicht salzen und kurz Wasser ausdr√ºcken.",
      "Mit Eiern, Haferflocken/Semmelbr√∂seln und Gew√ºrzen mischen, 10 Minuten quellen lassen.",
      "Patties formen und in √ñl goldbraun braten.",
      "Mit Joghurt-Kr√§uter-Dip servieren."
    ]
  },
  {
    id: "r47",
    title: "Kohlrabi-M√∂hren-Gem√ºse in heller So√üe (vegetarisch)",
    tags: ["Vegetarisch", "Deutsch", "Klassiker"],
    ingredients: [
      "2‚Äì3 Kohlrabi",
      "4‚Äì6 M√∂hren",
      "Butter",
      "Mehl (oder St√§rke)",
      "Milch",
      "Salz, Pfeffer, Muskat",
      "Optional: Petersilie"
    ],
    steps: [
      "Kohlrabi und M√∂hren in Stifte schneiden und weich kochen.",
      "Butter schmelzen, Mehl kurz anschwitzen, mit Milch aufgie√üen (helle So√üe).",
      "W√ºrzen, Gem√ºse unterheben und kurz ziehen lassen.",
      "Optional Petersilie dar√ºber; dazu passen Kartoffeln."
    ]
  },
  {
    id: "r48",
    title: "Mediterranes Ofengem√ºse mit Kichererbsen (vegetarisch)",
    tags: ["Vegetarisch", "Mediterran", "Ofen"],
    ingredients: [
      "Zucchini, Paprika, Zwiebel (nach Wahl)",
      "1 Dose Kichererbsen",
      "Oliven√∂l",
      "Salz, Pfeffer",
      "Paprika, Kreuzk√ºmmel oder italienische Kr√§uter",
      "Optional: Feta"
    ],
    steps: [
      "Backofen auf 220 ¬∞C vorheizen.",
      "Gem√ºse schneiden, Kichererbsen absp√ºlen.",
      "Alles mit √ñl und Gew√ºrzen mischen und auf ein Blech geben.",
      "25‚Äì30 Minuten r√∂sten, optional Feta am Ende dazugeben."
    ]
  },

  {
    id: "r49",
    title: "Asiatische Gem√ºsepfanne mit Udon (vegetarisch)",
    tags: ["Vegetarisch", "Asiatisch", "Schnell"],
    ingredients: [
      "Udon-Nudeln (oder Mie-Nudeln)",
      "Gem√ºse nach Wahl (z.B. Pak Choi, Paprika, Karotte)",
      "Sojaso√üe",
      "√ñl",
      "Optional: Ingwer, Sesam"
    ],
    steps: [
      "Nudeln nach Packung garen.",
      "Gem√ºse hei√ü anbraten.",
      "Nudeln zugeben und mit Sojaso√üe abschmecken.",
      "Optional Ingwer/Sesam dazu und servieren."
    ]
  },
  {
    id: "r50",
    title: "K√§siger Lauch-Kartoffel-Auflauf (vegetarisch)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Ofen"],
    ingredients: [
      "Kartoffeln",
      "2 Stangen Lauch",
      "Sahne oder Milch",
      "K√§se (gerieben)",
      "Salz, Pfeffer, Muskat"
    ],
    steps: [
      "Backofen auf 200 ¬∞C vorheizen.",
      "Kartoffeln in Scheiben schneiden, Lauch in Ringe.",
      "Alles in eine Form geben, w√ºrzen.",
      "Sahne/Milch dar√ºber, K√§se oben drauf.",
      "35‚Äì45 Minuten backen, bis alles weich ist."
    ]
  },
  {
    id: "r51",
    title: "Bulgur mit Ofen-Tomaten & Kr√§utern (vegetarisch)",
    tags: ["Vegetarisch", "Mediterran", "Schnell"],
    ingredients: [
      "Bulgur",
      "Gem√ºsebr√ºhe oder hei√ües Wasser",
      "Cherrytomaten",
      "Oliven√∂l",
      "Salz, Pfeffer",
      "Petersilie/Minze"
    ],
    steps: [
      "Backofen auf 220 ¬∞C vorheizen, Tomaten mit √ñl/Salz 12‚Äì15 Minuten r√∂sten.",
      "Bulgur mit hei√üer Br√ºhe √ºbergie√üen und quellen lassen.",
      "Bulgur auflockern, Tomaten und Kr√§uter unterheben.",
      "Abschmecken und servieren."
    ]
  },
  {
    id: "r52",
    title: "Gem√ºse-Quiche (vegetarisch, einfach)",
    tags: ["Vegetarisch", "Mitteleurop√§isch", "Ofen"],
    ingredients: [
      "1 Rolle Bl√§tterteig oder M√ºrbeteig",
      "Gem√ºse nach Wahl (z.B. Lauch, Spinat, Paprika)",
      "4‚Äì5 Eier",
      "1 Becher Sahne oder Milch",
      "Salz, Pfeffer, Muskat",
      "K√§se (optional)"
    ],
    steps: [
      "Backofen auf 190‚Äì200 ¬∞C vorheizen.",
      "Teig in eine Form legen und einstechen.",
      "Gem√ºse kurz anbraten (oder Spinat auftauen/ausdr√ºcken) und auf dem Teig verteilen.",
      "Eier mit Sahne/Milch verquirlen, w√ºrzen, dar√ºber gie√üen.",
      "25‚Äì35 Minuten backen, bis die Quiche gestockt ist."
    ]
  }
];
    // ISO-Kalenderwoche
    function getISOWeekNumber(date) {
      const tmp = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
      const dayNum = tmp.getUTCDay() || 7;
      tmp.setUTCDate(tmp.getUTCDate() + 4 - dayNum);
      const yearStart = new Date(Date.UTC(tmp.getUTCFullYear(), 0, 1));
      const weekNo = Math.ceil((((tmp - yearStart) / 86400000) + 1) / 7);
      return { year: tmp.getUTCFullYear(), week: weekNo };
    }

    const STORAGE_SELECTED_PLAN_WEEK = "timm-selected-plan-week-v1";

    function loadJSON(key, fallback) {
      const raw = localStorage.getItem(key);
      if (!raw) return fallback;
      try { return JSON.parse(raw); } catch { return fallback; }
    }
    function saveJSON(key, value) {
      localStorage.setItem(key, JSON.stringify(value)); // JSON.stringify/parse in localStorage.[web:143]
    }

    function setWeekHeader(year, week) {
      document.getElementById("weekNumber").textContent = `${week}/${year}`;
    }

    function renderRecipeCards(recipeIds, container) {
      const list = recipeIds
        .map(id => recipes.find(r => r.id === id))
        .filter(Boolean);

      if (list.length !== recipeIds.length) {
        container.innerHTML = `<div class="error">Rezeptdaten fehlen noch. Ich liefere dir als n√§chsten Schritt den kompletten 78‚ÄëRezepte‚ÄëBlock passend zu r01..r78.</div>`;
        return;
      }

      container.innerHTML = list.map(r => `
        <article class="recipe-card">
          <div class="recipe-body">
            <h3 class="recipe-title">${r.title}</h3>
            <div class="recipe-note">Schritt-f√ºr-Schritt-Anleitung (f√ºr 4 Personen).</div>
            <div class="tag-row">
              ${(r.tags || []).map(t => `<span class="tag">${t}</span>`).join("")}
            </div>

            <h4 class="section-title">Zutaten</h4>
            <ul>
              ${(r.ingredients || []).map(i => `<li>${i}</li>`).join("")}
            </ul>

            <h4 class="section-title">Schritte</h4>
            <ol class="steps">
              ${(r.steps || []).map(s => `<li>${s}</li>`).join("")}
            </ol>
          </div>
        </article>
      `).join("<div style='height:10px'></div>");
    }

    function renderPlanList(selectedIndex) {
      const listEl = document.getElementById("planList");
      listEl.innerHTML = plan.map((weekRecipes, idx) => `
        <button class="archive-item" data-idx="${idx}">
          <strong>Planwoche ${idx+1}</strong>
          <span>${weekRecipes.length} Rezepte</span>
        </button>
      `).join("");

      listEl.querySelectorAll("button.archive-item").forEach(btn => {
        btn.addEventListener("click", () => {
          const idx = Number(btn.getAttribute("data-idx"));
          saveJSON(STORAGE_SELECTED_PLAN_WEEK, { idx });
          showPlanWeek(idx);
        });
      });
    }

    function showPlanWeek(idx) {
      const now = new Date();
      const w = getISOWeekNumber(now);
      setWeekHeader(w.year, w.week);

      const recipeIds = plan[idx];
      renderRecipeCards(recipeIds, document.getElementById("currentRecipes"));
      renderPlanList(idx);
    }

    function getDefaultPlanIndexForThisWeek() {
      // Mappe aktuelle KW auf 1..26 rotierend (damit es ‚Äûzur Woche passt‚Äú).
      const { week } = getISOWeekNumber(new Date());
      return (week - 1) % plan.length;
    }

    function initApp() {
      const stored = loadJSON(STORAGE_SELECTED_PLAN_WEEK, null);
      const idx = stored?.idx ?? getDefaultPlanIndexForThisWeek();
      showPlanWeek(idx);
    }

    document.getElementById("jumpToThisWeekButton").addEventListener("click", () => {
      const idx = getDefaultPlanIndexForThisWeek();
      saveJSON(STORAGE_SELECTED_PLAN_WEEK, { idx });
      showPlanWeek(idx);
    });

    document.getElementById("resetSeenButton").addEventListener("click", () => {
      localStorage.removeItem(STORAGE_SELECTED_PLAN_WEEK);
      initApp();
    });

    document.getElementById("prevWeekButton").addEventListener("click", () => {
      const stored = loadJSON(STORAGE_SELECTED_PLAN_WEEK, null);
      let idx = stored?.idx ?? getDefaultPlanIndexForThisWeek();
      idx = (idx - 1 + plan.length) % plan.length;
      saveJSON(STORAGE_SELECTED_PLAN_WEEK, { idx });
      showPlanWeek(idx);
    });

    document.getElementById("nextWeekButton").addEventListener("click", () => {
      const stored = loadJSON(STORAGE_SELECTED_PLAN_WEEK, null);
      let idx = stored?.idx ?? getDefaultPlanIndexForThisWeek();
      idx = (idx + 1) % plan.length;
      saveJSON(STORAGE_SELECTED_PLAN_WEEK, { idx });
      showPlanWeek(idx);
    });

    // Service Worker Registrierung.[web:69]
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("sw.js").catch(() => {});
      });
    }

    document.addEventListener("DOMContentLoaded", initApp);
  </script>
</body>
</html>
